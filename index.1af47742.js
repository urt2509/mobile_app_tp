{class t{setCurrent(t=!0){this.DOM.el.classList[t?"add":"remove"]("slide--current")}hide(t){return this.toggle("hide",t)}show(t){return this.DOM.el.style.zIndex=1e3,this.toggle("show",t)}toggle(t,e){return new Promise(((i,s)=>{"show"===t&&(TweenMax.to(this.DOM.wrap,this.config.animation.duration,{ease:this.config.animation.ease,startAt:{x:"right"===e?"100%":"-100%"},x:"0%"}),TweenMax.to(this.DOM.titleWrap,this.config.animation.duration,{ease:this.config.animation.ease,startAt:{x:"right"===e?"-100%":"100%"},x:"0%"})),TweenMax.to(this.DOM.img,this.config.animation.duration,{ease:this.config.animation.ease,startAt:"hide"===t?{}:{x:"right"===e?"-100%":"100%",scale:1.1},x:"0%",scale:"hide"===t?1.1:1,onStart:()=>{this.DOM.img.style.transformOrigin="hide"===t?"right"===e?"100% 50%":"0% 50%":"right"===e?"0% 50%":"100% 50%",this.DOM.el.style.opacity=1},onComplete:()=>{this.DOM.el.style.zIndex=999,this.DOM.el.style.opacity="hide"===t?0:1,i()}})}))}showDetails(){return new Promise(((t,e)=>{if(this.isDetailsOpen)return t(),!1;const i=(t,e)=>new Promise(((i,s)=>{const a=e>=this.totalDetailItems-3?.7:.2,n=e>=this.totalDetailItems-3?"Expo.easeOut":"Power2.easeInOut",r=.08*e,l=t.dataset.direction||"rtl";let o={ease:n,delay:r,x:"0%",y:"0%"},h={ease:n,delay:r,x:"0%",y:"0%",onComplete:i};"rtl"===l||"ltr"===l?(o.startAt="rtl"===l?{x:"100%",y:"0%"}:{x:"-100%",y:"0%"},h.startAt="rtl"===l?{x:"-100%",y:"0%"}:{x:"100%",y:"0%"}):(o.startAt="btt"===l?{x:"0%",y:"100%"}:{x:"0%",y:"-100%"},h.startAt="btt"===l?{x:"0%",y:"-100%"}:{x:"0%",y:"100%"}),TweenMax.to(t,a,o),TweenMax.to(t.querySelector(".details__inner"),a,h)}));let s=[];this.DOM.detailsItems.forEach(((t,e)=>s.push(i(t,e)))),Promise.all(s).then((()=>{this.isDetailsOpen=!0,t()}))}))}hideDetails(){return new Promise(((t,e)=>{if(!this.isDetailsOpen)return t(),!1;const i=(t,e)=>new Promise(((i,s)=>{const a=0===e?.7:.2,n=0===e?"Expo.easeOut":"Power2.easeInOut",r=.08*(this.totalDetailItems-e-1),l=t.dataset.direction||"rtl";let o={ease:n,delay:r},h={ease:n,delay:r,onComplete:i};"rtl"===l||"ltr"===l?(o.x="rtl"===l?"100%":"-100%",o.y="0%",h.x="rtl"===l?"-100%":"100%",h.y="0%"):(o.y="btt"===l?"100%":"-100%",o.x="0%",h.y="btt"===l?"-100%":"100%",h.x="0%"),TweenMax.to(t,a,o),TweenMax.to(t.querySelector(".details__inner"),a,h)}));let s=[];this.DOM.detailsItems.forEach(((t,e)=>s.push(i(t,e)))),Promise.all(s).then((()=>{this.isDetailsOpen=!1,t()}))}))}constructor(t,e){this.DOM={el:t},this.settings={detailsEl:null,onHideDetails:()=>!1},Object.assign(this.settings,e),this.DOM.wrap=this.DOM.el.querySelector(".slide__wrap"),this.DOM.img=this.DOM.wrap.querySelector(".slide__img"),this.DOM.titleWrap=this.DOM.wrap.querySelector(".slide__title-wrap"),this.config={animation:{duration:1.2,ease:Expo.easeInOut}}}}class e{setCurrent(t,e){TweenMax.to(this.DOM.pagination.current,.4,{ease:"Back.easeIn",y:"right"===e?"-100%":"100%",opacity:0,onComplete:()=>{this.DOM.pagination.current.innerHTML=t,TweenMax.to(this.DOM.pagination.current,.8,{ease:"Expo.easeOut",startAt:{y:"right"===e?"50%":"-50%",opacity:0},y:"0%",opacity:1})}})}setTotal(t){this.DOM.pagination.total.innerHTML=t}initEvents(){this.DOM.prevCtrl.addEventListener("click",(()=>this.settings.prev())),this.DOM.nextCtrl.addEventListener("click",(()=>this.settings.next()))}constructor(t,e){this.DOM={el:t},this.settings={next:()=>!1,prev:()=>!1},Object.assign(this.settings,e),this.DOM.prevCtrl=this.DOM.el.querySelector(".boxnav__item--prev"),this.DOM.nextCtrl=this.DOM.el.querySelector(".boxnav__item--next"),this.DOM.pagination={current:this.DOM.el.querySelector(".boxnav__label--current"),total:this.DOM.el.querySelector(".boxnav__label--total")},this.initEvents()}}class i{init(){this.slides[this.current].setCurrent(),this.initEvents()}initEvents(){this.DOM.detailsCtrl.addEventListener("click",(()=>this.openDetailsBoxes()))}openDetailsBoxes(){this.isAnimating||(this.isAnimating=!0,this.DOM.el.classList.add("slideshow--details"),this.DOM.detailsWrap.classList.add("details-wrap--open"),this.DOM.details[this.current].classList.add("details--current"),this.slides[this.current].showDetails().then((()=>this.isAnimating=!1)))}closeDetailsBoxes(){return new Promise(((t,e)=>{this.DOM.el.classList.remove("slideshow--details"),this.slides[this.current].hideDetails().then((()=>{this.DOM.details[this.current].classList.remove("details--current"),this.DOM.detailsWrap.classList.remove("details-wrap--open"),t()}))}))}navigate(t){if(this.isAnimating)return;this.isAnimating=!0;const e="right"===t?this.current<this.slidesTotal-1?this.current+1:0:this.current>0?this.current-1:this.slidesTotal-1;this.closeDetailsBoxes().then((()=>{this.navigation.setCurrent(e+1,t),Promise.all([this.slides[this.current].hide(t),this.slides[e].show(t)]).then((()=>{this.slides[this.current].setCurrent(!1),this.current=e,this.slides[this.current].setCurrent(),this.isAnimating=!1}))}))}constructor(i){if(this.DOM={el:i},this.navigation=new e(document.querySelector(".boxnav"),{next:()=>this.navigate("right"),prev:()=>this.navigate("left")}),this.DOM.detailsCtrl=document.querySelector(".action--details"),this.DOM.detailsWrap=document.querySelector(".details-wrap"),this.DOM.details=Array.from(this.DOM.detailsWrap.querySelectorAll(".details")),this.slides=[],Array.from(this.DOM.el.querySelectorAll(".slide")).forEach(((e,i)=>this.slides.push(new t(e,{detailsEl:this.DOM.details[i],onHideDetails:()=>{this.isAnimating||(this.isAnimating=!0,this.closeDetailsBoxes().then((()=>this.isAnimating=!1)))}})))),this.slidesTotal=this.slides.length,this.navigation.setTotal(this.slidesTotal),this.slidesTotal<2)return!1;this.current=0,this.init()}}new i(document.querySelector(".slideshow"));imagesLoaded(document.querySelectorAll(".slide__img"),{background:!0},(()=>document.body.classList.remove("loading")))}
//# sourceMappingURL=index.1af47742.js.map
