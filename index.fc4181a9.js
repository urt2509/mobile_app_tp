!function(){function t(t){return t&&t.__esModule?t.default:t}var e={};Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};var i={};function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t,e,i){e&&n(t.prototype,e);i&&n(t,i);return t};var s=function(){"use strict";function n(i,s){t(e)(this,n),this.DOM={el:i},this.settings={detailsEl:null,onHideDetails:function(){return!1}},Object.assign(this.settings,s),this.DOM.wrap=this.DOM.el.querySelector(".slide__wrap"),this.DOM.img=this.DOM.wrap.querySelector(".slide__img"),this.DOM.titleWrap=this.DOM.wrap.querySelector(".slide__title-wrap"),this.config={animation:{duration:1.2,ease:Expo.easeInOut}}}return t(i)(n,[{key:"setCurrent",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.DOM.el.classList[t?"add":"remove"]("slide--current")}},{key:"hide",value:function(t){return this.toggle("hide",t)}},{key:"show",value:function(t){return this.DOM.el.style.zIndex=1e3,this.toggle("show",t)}},{key:"toggle",value:function(t,e){var i=this;return new Promise((function(n,s){var r=i;"show"===t&&(TweenMax.to(i.DOM.wrap,i.config.animation.duration,{ease:i.config.animation.ease,startAt:{x:"right"===e?"100%":"-100%"},x:"0%"}),TweenMax.to(i.DOM.titleWrap,i.config.animation.duration,{ease:i.config.animation.ease,startAt:{x:"right"===e?"-100%":"100%"},x:"0%"})),TweenMax.to(i.DOM.img,i.config.animation.duration,{ease:i.config.animation.ease,startAt:"hide"===t?{}:{x:"right"===e?"-100%":"100%",scale:1.1},x:"0%",scale:"hide"===t?1.1:1,onStart:function(){r.DOM.img.style.transformOrigin="hide"===t?"right"===e?"100% 50%":"0% 50%":"right"===e?"0% 50%":"100% 50%",r.DOM.el.style.opacity=1},onComplete:function(){r.DOM.el.style.zIndex=999,r.DOM.el.style.opacity="hide"===t?0:1,n()}})}))}},{key:"showDetails",value:function(){var t=this;return new Promise((function(e,i){var n=t;if(t.isDetailsOpen)return e(),!1;var s=[];t.DOM.detailsItems.forEach((function(t,e){return s.push(function(t,e){var i=n;return new Promise((function(n,s){var r=e>=i.totalDetailItems-3?.7:.2,a=e>=i.totalDetailItems-3?"Expo.easeOut":"Power2.easeInOut",o=.08*e,l=t.dataset.direction||"rtl",u={ease:a,delay:o,x:"0%",y:"0%"},c={ease:a,delay:o,x:"0%",y:"0%",onComplete:n};"rtl"===l||"ltr"===l?(u.startAt="rtl"===l?{x:"100%",y:"0%"}:{x:"-100%",y:"0%"},c.startAt="rtl"===l?{x:"-100%",y:"0%"}:{x:"100%",y:"0%"}):(u.startAt="btt"===l?{x:"0%",y:"100%"}:{x:"0%",y:"-100%"},c.startAt="btt"===l?{x:"0%",y:"-100%"}:{x:"0%",y:"100%"}),TweenMax.to(t,r,u),TweenMax.to(t.querySelector(".details__inner"),r,c)}))}(t,e))})),Promise.all(s).then((function(){n.isDetailsOpen=!0,e()}))}))}},{key:"hideDetails",value:function(){var t=this;return new Promise((function(e,i){var n=t;if(!t.isDetailsOpen)return e(),!1;var s=[];t.DOM.detailsItems.forEach((function(t,e){return s.push(function(t,e){var i=n;return new Promise((function(n,s){var r=0===e?.7:.2,a=0===e?"Expo.easeOut":"Power2.easeInOut",o=.08*(i.totalDetailItems-e-1),l=t.dataset.direction||"rtl",u={ease:a,delay:o},c={ease:a,delay:o,onComplete:n};"rtl"===l||"ltr"===l?(u.x="rtl"===l?"100%":"-100%",u.y="0%",c.x="rtl"===l?"-100%":"100%",c.y="0%"):(u.y="btt"===l?"100%":"-100%",u.x="0%",c.y="btt"===l?"-100%":"100%",c.x="0%"),TweenMax.to(t,r,u),TweenMax.to(t.querySelector(".details__inner"),r,c)}))}(t,e))})),Promise.all(s).then((function(){n.isDetailsOpen=!1,e()}))}))}}]),n}(),r=function(){"use strict";function n(i,s){t(e)(this,n),this.DOM={el:i},this.settings={next:function(){return!1},prev:function(){return!1}},Object.assign(this.settings,s),this.DOM.prevCtrl=this.DOM.el.querySelector(".boxnav__item--prev"),this.DOM.nextCtrl=this.DOM.el.querySelector(".boxnav__item--next"),this.DOM.pagination={current:this.DOM.el.querySelector(".boxnav__label--current"),total:this.DOM.el.querySelector(".boxnav__label--total")},this.initEvents()}return t(i)(n,[{key:"setCurrent",value:function(t,e){var i=this;TweenMax.to(this.DOM.pagination.current,.4,{ease:"Back.easeIn",y:"right"===e?"-100%":"100%",opacity:0,onComplete:function(){i.DOM.pagination.current.innerHTML=t,TweenMax.to(i.DOM.pagination.current,.8,{ease:"Expo.easeOut",startAt:{y:"right"===e?"50%":"-50%",opacity:0},y:"0%",opacity:1})}})}},{key:"setTotal",value:function(t){this.DOM.pagination.total.innerHTML=t}},{key:"initEvents",value:function(){var t=this;this.DOM.prevCtrl.addEventListener("click",(function(){return t.settings.prev()})),this.DOM.nextCtrl.addEventListener("click",(function(){return t.settings.next()}))}}]),n}();new(function(){"use strict";function n(i){var a=this;if(t(e)(this,n),this.DOM={el:i},this.navigation=new r(document.querySelector(".boxnav"),{next:function(){return a.navigate("right")},prev:function(){return a.navigate("left")}}),this.DOM.detailsCtrl=document.querySelector(".action--details"),this.DOM.detailsWrap=document.querySelector(".details-wrap"),this.DOM.details=Array.from(this.DOM.detailsWrap.querySelectorAll(".details")),this.slides=[],Array.from(this.DOM.el.querySelectorAll(".slide")).forEach((function(t,e){return a.slides.push(new s(t,{detailsEl:a.DOM.details[e],onHideDetails:function(){var t=a;a.isAnimating||(a.isAnimating=!0,a.closeDetailsBoxes().then((function(){return t.isAnimating=!1})))}}))})),this.slidesTotal=this.slides.length,this.navigation.setTotal(this.slidesTotal),this.slidesTotal<2)return!1;this.current=0,this.init()}return t(i)(n,[{key:"init",value:function(){this.slides[this.current].setCurrent(),this.initEvents()}},{key:"initEvents",value:function(){var t=this;this.DOM.detailsCtrl.addEventListener("click",(function(){return t.openDetailsBoxes()}))}},{key:"openDetailsBoxes",value:function(){var t=this;this.isAnimating||(this.isAnimating=!0,this.DOM.el.classList.add("slideshow--details"),this.DOM.detailsWrap.classList.add("details-wrap--open"),this.DOM.details[this.current].classList.add("details--current"),this.slides[this.current].showDetails().then((function(){return t.isAnimating=!1})))}},{key:"closeDetailsBoxes",value:function(){var t=this;return new Promise((function(e,i){var n=t;t.DOM.el.classList.remove("slideshow--details"),t.slides[t.current].hideDetails().then((function(){n.DOM.details[n.current].classList.remove("details--current"),n.DOM.detailsWrap.classList.remove("details-wrap--open"),e()}))}))}},{key:"navigate",value:function(t){var e=this;if(!this.isAnimating){this.isAnimating=!0;var i="right"===t?this.current<this.slidesTotal-1?this.current+1:0:this.current>0?this.current-1:this.slidesTotal-1;this.closeDetailsBoxes().then((function(){var n=e;e.navigation.setCurrent(i+1,t),Promise.all([e.slides[e.current].hide(t),e.slides[i].show(t)]).then((function(){n.slides[n.current].setCurrent(!1),n.current=i,n.slides[n.current].setCurrent(),n.isAnimating=!1}))}))}}}]),n}())(document.querySelector(".slideshow"));imagesLoaded(document.querySelectorAll(".slide__img"),{background:!0},(function(){return document.body.classList.remove("loading")}))}();
//# sourceMappingURL=index.fc4181a9.js.map
